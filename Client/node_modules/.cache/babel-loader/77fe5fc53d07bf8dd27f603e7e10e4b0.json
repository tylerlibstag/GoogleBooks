{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kdare\\\\Desktop\\\\github.io\\\\tylerlibstag_15\\\\GoogleBooks\\\\googlebook\\\\Client\\\\src\\\\components\\\\SearchPage\\\\index.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport BookItem from '../BookItem/index';\n\nfunction SearchPage() {\n  const [searchResults, setSearchResults] = useState([]);\n\n  const addBook = event => {\n    let bookIndex = parseInt(event.target.getAttribute('index'));\n    axios.post('/api/books', searchResults[bookIndex]);\n  };\n\n  const search = event => {\n    event.preventDefault();\n    let searchString = event.target.searchinput.value;\n    fetch('https://www.googleapis.com/books/v1/volumes?q=' + searchString).then(resp => resp.json()).then(result => {\n      console.log(result.items);\n      setSearchResults(result.items.map(book => {\n        return {\n          _id: book.id,\n          title: book.volumeInfo.title,\n          image: book.volumeInfo.imageLinks.thumbnail,\n          authors: book.volumeInfo.authors,\n          link: book.volumeInfo.previewLink,\n          description: book.volumeInfo.description\n        };\n      }));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"row border border-secondary p-3 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    name: \"searchinput\",\n    placeholder: \"Search by Book Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Search\")))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"row border border-secondary p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, \"Results\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, searchResults.map((result, index) => /*#__PURE__*/React.createElement(BookItem, {\n    key: index,\n    index: index,\n    buttonText: \"Add\",\n    buttonClicked: addBook,\n    book: result,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 67\n    }\n  })))))));\n}\n\nexport default SearchPage;","map":{"version":3,"sources":["C:/Users/kdare/Desktop/github.io/tylerlibstag_15/GoogleBooks/googlebook/Client/src/components/SearchPage/index.js"],"names":["React","useState","axios","BookItem","SearchPage","searchResults","setSearchResults","addBook","event","bookIndex","parseInt","target","getAttribute","post","search","preventDefault","searchString","searchinput","value","fetch","then","resp","json","result","console","log","items","map","book","_id","id","title","volumeInfo","image","imageLinks","thumbnail","authors","link","previewLink","description","index"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport BookItem from '../BookItem/index';\r\n\r\n\r\nfunction SearchPage() {\r\n    const [searchResults, setSearchResults] = useState([]);\r\n\r\n    const addBook = (event) => {\r\n        let bookIndex = parseInt(event.target.getAttribute('index'));\r\n        axios.post('/api/books', searchResults[bookIndex]);\r\n    }\r\n\r\n    const search = (event) => {\r\n        event.preventDefault();\r\n        let searchString = event.target.searchinput.value;\r\n        fetch('https://www.googleapis.com/books/v1/volumes?q=' + searchString)\r\n            .then((resp) => resp.json())\r\n            .then((result) => {\r\n                console.log(result.items)\r\n                setSearchResults(result.items.map((book) => {\r\n                    return {\r\n                        _id: book.id,\r\n                        title: book.volumeInfo.title,\r\n                        image: book.volumeInfo.imageLinks.thumbnail,\r\n                        authors: book.volumeInfo.authors,\r\n                        link: book.volumeInfo.previewLink,\r\n                        description: book.volumeInfo.description,\r\n                    }\r\n                }));\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <section className=\"row border border-secondary p-3 mb-5\">\r\n                <div className=\"col\">\r\n                    <form onSubmit={search}>\r\n                        <div className=\"form-group\">\r\n                            <label>Search</label>\r\n                            <input type=\"text\" className=\"form-control\" name=\"searchinput\" placeholder=\"Search by Book Name\" />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">Search</button>\r\n                    </form>\r\n                </div>\r\n            </section>\r\n            <section className=\"row border border-secondary p-3\">\r\n                <div className=\"col\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            Results\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            {searchResults.map((result, index) => <BookItem key={index} index={index} buttonText=\"Add\" buttonClicked={addBook} book={result} />)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}